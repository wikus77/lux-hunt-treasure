/**
 * © 2025 M1SSION™ — BUZZ MAP pricing shared (Deno)
 */
export type BuzzLevel = { level: number; radiusKm: number; priceCents: number };

export const BUZZ_MAP_LEVELS: BuzzLevel[] = [
  { level: 1, radiusKm: 500, priceCents: 499 },
  { level: 2, radiusKm: 460, priceCents: 599 },
  { level: 3, radiusKm: 430, priceCents: 699 },
  { level: 4, radiusKm: 400, priceCents: 799 },
  { level: 5, radiusKm: 370, priceCents: 899 },
  { level: 6, radiusKm: 345, priceCents: 999 },
  { level: 7, radiusKm: 320, priceCents: 999 },
  { level: 8, radiusKm: 300, priceCents: 999 },
  { level: 9, radiusKm: 285, priceCents: 999 },
  { level:10, radiusKm: 270, priceCents: 999 },
  { level:11, radiusKm: 255, priceCents: 1499 },
  { level:12, radiusKm: 240, priceCents: 1599 },
  { level:13, radiusKm: 225, priceCents: 1699 },
  { level:14, radiusKm: 210, priceCents: 1799 },
  { level:15, radiusKm: 195, priceCents: 1899 },
  { level:16, radiusKm: 180, priceCents: 1999 },
  { level:17, radiusKm: 170, priceCents: 2999 },
  { level:18, radiusKm: 160, priceCents: 3099 },
  { level:19, radiusKm: 150, priceCents: 3199 },
  { level:20, radiusKm: 140, priceCents: 3299 },
  { level:21, radiusKm: 130, priceCents: 3399 },
  { level:22, radiusKm: 120, priceCents: 3499 },
  { level:23, radiusKm: 115, priceCents: 4999 },
  { level:24, radiusKm: 110, priceCents: 5099 },
  { level:25, radiusKm: 105, priceCents: 5599 },
  { level:26, radiusKm: 100, priceCents: 5999 },
  { level:27, radiusKm: 95, priceCents: 6999 },
  { level:28, radiusKm: 90, priceCents: 7999 },
  { level:29, radiusKm: 85, priceCents: 8999 },
  { level:30, radiusKm: 80, priceCents: 9999 },
  { level:31, radiusKm: 76, priceCents: 11999 },
  { level:32, radiusKm: 72, priceCents: 19999 },
  { level:33, radiusKm: 68, priceCents: 24999 },
  { level:34, radiusKm: 64, priceCents: 29999 },
  { level:35, radiusKm: 60, priceCents: 34999 },
  { level:36, radiusKm: 56, priceCents: 39999 },
  { level:37, radiusKm: 52, priceCents: 44999 },
  { level:38, radiusKm: 48, priceCents: 49999 },
  { level:39, radiusKm: 44, priceCents: 54999 },
  { level:40, radiusKm: 40, priceCents: 59999 },
  { level:41, radiusKm: 37, priceCents: 69999 },
  { level:42, radiusKm: 34, priceCents: 79999 },
  { level:43, radiusKm: 31, priceCents: 89999 },
  { level:44, radiusKm: 28, priceCents: 99999 },
  { level:45, radiusKm: 25, priceCents: 109999 },
  { level:46, radiusKm: 22, priceCents: 119999 },
  { level:47, radiusKm: 20, priceCents: 129999 },
  { level:48, radiusKm: 18, priceCents: 139999 },
  { level:49, radiusKm: 16, priceCents: 149999 },
  { level:50, radiusKm: 14, priceCents: 159999 },
  { level:51, radiusKm: 12, priceCents: 179999 },
  { level:52, radiusKm: 11, priceCents: 199999 },
  { level:53, radiusKm: 10, priceCents: 249999 },
  { level:54, radiusKm: 9, priceCents: 299999 },
  { level:55, radiusKm: 8, priceCents: 349999 },
  { level:56, radiusKm: 7, priceCents: 399999 },
  { level:57, radiusKm: 6, priceCents: 499999 },
  { level:58, radiusKm: 5, priceCents: 699999 },
  { level:59, radiusKm: 5, priceCents: 899999 },
  { level:60, radiusKm: 5, priceCents: 1499999 },
];

export function getBuzzLevelFromCount(count: number): BuzzLevel {
  const idx = Math.min(Math.max(count, 0), 59); // count == aree già create; prossimo livello = count
  return BUZZ_MAP_LEVELS[idx];
}