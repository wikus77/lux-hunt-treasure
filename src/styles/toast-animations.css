/* © 2025 M1SSION™ – NIYVORA KFT – Joseph MULÉ */
/* Toast Slide Animations with Safe Area Support for PWA iOS */

:root {
  --toast-safe-top: calc(env(safe-area-inset-top, 0px) + 12px);
}

/* Toast slide-down entrance and slide-up exit animations */
@keyframes toast-slide-down {
  from { 
    transform: translateY(-32px); 
    opacity: 0; 
  }
  to { 
    transform: translateY(0); 
    opacity: 1; 
  }
}

@keyframes toast-slide-up {
  from { 
    transform: translateY(0); 
    opacity: 1; 
  }
  to { 
    transform: translateY(-32px); 
    opacity: 0; 
  }
}

/* Sonner toast container - perfect centering for PWA iOS */
[data-sonner-toaster] {
  position: fixed !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  top: var(--toast-safe-top) !important;
  width: 100% !important;
  max-width: min(92vw, 640px) !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 10px !important;
  pointer-events: none !important;
  z-index: 9999 !important;
}

/* Individual toast animations */
[data-sonner-toast] {
  animation: toast-slide-down 320ms cubic-bezier(0.22, 1, 0.36, 1) forwards !important;
  will-change: transform, opacity !important;
  pointer-events: auto !important;
  position: relative !important;
  margin: 0 auto !important;
}

[data-sonner-toast][data-removed="true"] {
  animation: toast-slide-up 320ms cubic-bezier(0.22, 1, 0.36, 1) forwards !important;
}

/* Swipe to dismiss functionality */
[data-sonner-toast][data-swiping="true"] {
  transform: translateY(var(--y)) !important;
  transition: none !important;
  opacity: calc(1 - (var(--y, 0) * -1 / 100)) !important;
}

[data-sonner-toast]:active {
  cursor: grabbing;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
}

/* Reduced motion support - fade only */
@media (prefers-reduced-motion: reduce) {
  [data-sonner-toast],
  [data-sonner-toast][data-removed="true"] {
    animation-duration: 120ms !important;
    animation-timing-function: ease-out !important;
  }
  
  @keyframes toast-slide-down {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes toast-slide-up {
    from { opacity: 1; }
    to { opacity: 0; }
  }
}

/* iOS PWA specific optimizations and touch handling */
@supports (-webkit-touch-callout: none) {
  [data-sonner-toast] {
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    touch-action: pan-y !important;
    -webkit-transform: translateZ(0) !important;
  }
}

/* Debug support (only when VITE_UI_DEBUG=1) */
.toast-debug-info {
  position: fixed;
  top: 0;
  right: 0;
  background: rgba(255, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  font-size: 10px;
  font-family: monospace;
  z-index: 10000;
  display: none;
}

[data-debug="true"] .toast-debug-info {
  display: block;
}