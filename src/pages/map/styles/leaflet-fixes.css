
@import 'leaflet/dist/leaflet.css';

/* CRITICAL LEAFLET FIXES FOR CAPACITOR iOS */
.leaflet-default-icon-path {
  background-image: url('https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png');
}

.leaflet-container,
.leaflet-container-fixed {
  width: 100% !important;
  height: 100% !important;
  min-height: 70vh !important;
  position: relative !important;
  outline: none !important;
  background: #1a1a1a !important;
  overflow: hidden !important;
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  z-index: 1 !important;
}

.leaflet-tile-pane {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  z-index: 200 !important;
  opacity: 1 !important;
  visibility: visible !important;
  width: 100% !important;
  height: 100% !important;
}

.leaflet-tile {
  opacity: 1 !important;
  visibility: visible !important;
  filter: brightness(0.7) contrast(1.2) saturate(0.8) hue-rotate(180deg) !important;
  image-rendering: auto !important;
  image-rendering: crisp-edges !important;
  image-rendering: -webkit-optimize-contrast !important;
  border: none !important;
  margin: 0 !important;
  padding: 0 !important;
  max-width: none !important;
  max-height: none !important;
  background: transparent !important;
  display: block !important;
}

.leaflet-map-pane {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  z-index: auto !important;
  width: 100% !important;
  height: 100% !important;
}

.leaflet-overlay-pane {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  z-index: 400 !important;
}

.leaflet-shadow-pane {
  z-index: 500 !important;
}

.leaflet-marker-pane {
  z-index: 600 !important;
}

.leaflet-tooltip-pane {
  z-index: 650 !important;
}

.leaflet-popup-pane {
  z-index: 700 !important;
}

.leaflet-control-container {
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  z-index: 1000 !important;
}

.leaflet-control-attribution {
  background-color: rgba(0, 0, 0, 0.8) !important;
  color: white !important;
  font-size: 10px !important;
}

.leaflet-container {
  touch-action: manipulation !important;
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  user-select: none !important;
}

.m1ssion-glass-card .leaflet-container,
.m1ssion-glass-card .leaflet-container-fixed {
  min-height: 70vh !important;
  height: 100% !important;
}

.leaflet-container *,
.leaflet-container-fixed * {
  box-sizing: border-box !important;
}

.leaflet-container canvas,
.leaflet-container svg,
.leaflet-container-fixed canvas,
.leaflet-container-fixed svg {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.leaflet-tile-container {
  opacity: 1 !important;
  visibility: visible !important;
}

.leaflet-tile-container img {
  opacity: 1 !important;
  visibility: visible !important;
  filter: brightness(0.7) contrast(1.2) saturate(0.8) hue-rotate(180deg) !important;
}

@supports (padding: env(safe-area-inset-top)) {
  .leaflet-container-fixed {
    padding: 0 !important;
  }
}

.leaflet-control-zoom {
  -webkit-touch-callout: none !important;
  touch-action: manipulation !important;
}

.leaflet-control-zoom a {
  background-color: rgba(0, 0, 0, 0.8) !important;
  color: white !important;
  border: 1px solid rgba(0, 209, 255, 0.3) !important;
}

.leaflet-control-zoom a:hover {
  background-color: rgba(0, 209, 255, 0.2) !important;
}

.leaflet-tile-error {
  opacity: 0.2 !important;
  filter: grayscale(100%) !important;
}

.leaflet-tile-loading {
  opacity: 0.5 !important;
  transition: opacity 0.3s !important;
}

.buzz-area-glow {
  filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.5)) !important;
}

.leaflet-layer {
  opacity: 1 !important;
  visibility: visible !important;
}

@media screen and (max-width: 768px) {
  .leaflet-container,
  .leaflet-container-fixed {
    width: 100vw !important;
    height: 100% !important;
  }
}
